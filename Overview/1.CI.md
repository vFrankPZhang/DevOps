# 什么是集成？

交付软件应用或系统涉及负责不同组件开发的多个团队，那开发人员必然需要将自己的工作与其他开发团队构建的组件，以及其他的应用与服务进行集成。

为什么需要持续集成？

传统的开发流程中集成，在组件构建之后才进行的才进行，这样的顺序本质上是高成本且不可预测的，因为本来应该只在集成过程中发现的不兼容问题及缺陷，却要在开发流程的后期才能发现，这通常会导致反攻击风险的剧增。

敏捷运动，引入了一个逻辑步骤来降低这种风险，开发人员定期至少是每天将其工作与团队中其他开发人员的工作集成，并进行测试，在跨越多个平台应用或服务的企业级系统中，开发人员还会尽可能频繁的与其他系统及服务进行集成。这样的话，问题就能及时的暴露出来。

# 如何持续集成？

开发团队主要通过三种途径来开展工作。
1，通过将开发工作分解成可以在迭代周期内完成的小块工作，这使得开发人员能够尽早的识别及解决风险，而不是等到完成整个项目或大部分工作时才发现，
2，通过让最终用户或代表用户的代理，在迭代周期，与开发团队互动，这有助于开发人员更好的理解用户需求，从而使变更需求更快上线，
3，通过在每一次迭代结束时发布软件，这是开发人员能够定期的演示所构建的最新应用，以便获得用户反馈。

# 持续集成实践：

1、维护同源的代码库。（Git/Github/Gitlab）
无论管理代码还是文件，使用版本管理工具来管理源代码是至关重要的。
Source Code Management（SCM）

2、自动化构建

3、测试自动化
为单元级测试、组件及应用级测试建立一套自动化测试脚本。
这个流程要求构建脚本具备按需构建软件、提供测试服务器、配置测试环境、将软件部署到测试服务器、初始化测试数据以及运行正确的测试脚本这一系列能力。
要求配置可以进行构建、部署及随时进行自动化测试的环境有助于提高最终代码的质量。需要系统资源可用，愿意定期运行大量自动化测试以及开发自动化测试。

4、确保每人每天都坚持主线交付。
及时现在，许多开发人员仍然独立工作指导最终的构建完成，也只有这时，他们才意识到自己的工作是受到其他开发人员的工作影响的。这可能导致功能发布延期，或者上线前变更未经测试就部署到生产环境中。

5、确保每次提交都在集成服务器构建主线。
确保每次提交代码都执行了构建，运行了自动化回归测试。以及早发现解决问题。

6、保持快速构建。
避免构建时间过长，阻碍持续集成。

7、在类生产环境中测试。
创建类似生产环境的类生产环境，尽可能接近生产环境。
还应具备适当的测试数据管理能力，测试环境中不应该包含生产数据，因为许多情况下，数据需要脱敏。（PII？ cosmos？）
适当的测试数据管理还可以缩小测试环境的规模，降低复杂程度。

8、使任何人都能轻松获得最新的可执行文件

9、确保每个人都能看到发生的一切
通过中央门户或仪表盘展示持续集成进度，为所有团队成员提供信息。
可以鼓舞士气，有助于建立目标一直的团队合作意识。

10、自动化部署